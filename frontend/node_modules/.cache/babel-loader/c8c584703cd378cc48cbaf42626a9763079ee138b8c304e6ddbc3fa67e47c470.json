{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sahaj\\\\OneDrive\\\\Desktop\\\\ai-product-recommender\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Catalog from './components/Catalog';\nimport UserPreferences from './components/UserPreferences';\nimport Recommendations from './components/Recommendations';\nimport BrowsingHistory from './components/BrowsingHistory';\nimport { fetchProducts, submitPreferences, submitBrowsingHistory } from './services/api';\nimport './styles/App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [preferences, setPreferences] = useState(null);\n  const [browsingHistory, setBrowsingHistory] = useState([]);\n  const [recommendations, setRecommendations] = useState([]);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    const loadProducts = async () => {\n      try {\n        const data = await fetchProducts();\n        setProducts(data);\n      } catch (error) {\n        console.error('Error loading products:', error);\n      }\n    };\n    loadProducts();\n  }, []);\n  const handlePreferenceSubmit = async prefs => {\n    setLoading(true);\n    setPreferences(prefs);\n    try {\n      await submitPreferences(prefs);\n      const historyResponse = await submitBrowsingHistory(browsingHistory.map(p => p.id));\n      const recs = await getRecommendations(prefs, browsingHistory);\n      setRecommendations(recs);\n    } catch (error) {\n      console.error('Error submitting preferences:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleProductClick = product => {\n    if (!browsingHistory.some(p => p.id === product.id)) {\n      setBrowsingHistory([...browsingHistory, product]);\n    }\n  };\n  const getRecommendations = async (prefs, history) => {\n    try {\n      const response = await fetch('http://localhost:5000/api/recommendations', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          preferences: prefs,\n          browsingHistory: history.map(p => p.id)\n        })\n      });\n      const data = await response.json();\n      return data.recommendations || [];\n    } catch (error) {\n      console.error('Error getting recommendations:', error);\n      return [];\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"AI Product Recommender\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"left-panel\",\n        children: [/*#__PURE__*/_jsxDEV(UserPreferences, {\n          onSubmit: handlePreferenceSubmit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BrowsingHistory, {\n          items: browsingHistory\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main-content\",\n        children: [/*#__PURE__*/_jsxDEV(Catalog, {\n          products: products,\n          onProductClick: handleProductClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading\",\n          children: \"Generating recommendations...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Recommendations, {\n          items: recommendations\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"u3N8qYyI5eL+j5xx2Ro+hyxIcks=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Catalog","UserPreferences","Recommendations","BrowsingHistory","fetchProducts","submitPreferences","submitBrowsingHistory","jsxDEV","_jsxDEV","App","_s","products","setProducts","preferences","setPreferences","browsingHistory","setBrowsingHistory","recommendations","setRecommendations","loading","setLoading","loadProducts","data","error","console","handlePreferenceSubmit","prefs","historyResponse","map","p","id","recs","getRecommendations","handleProductClick","product","some","history","response","fetch","method","headers","body","JSON","stringify","json","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","items","onProductClick","_c","$RefreshReg$"],"sources":["C:/Users/sahaj/OneDrive/Desktop/ai-product-recommender/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Catalog from './components/Catalog';\r\nimport UserPreferences from './components/UserPreferences';\r\nimport Recommendations from './components/Recommendations';\r\nimport BrowsingHistory from './components/BrowsingHistory';\r\nimport { fetchProducts, submitPreferences, submitBrowsingHistory } from './services/api';\r\nimport './styles/App.css';\r\n\r\nfunction App() {\r\n  const [products, setProducts] = useState([]);\r\n  const [preferences, setPreferences] = useState(null);\r\n  const [browsingHistory, setBrowsingHistory] = useState([]);\r\n  const [recommendations, setRecommendations] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const loadProducts = async () => {\r\n      try {\r\n        const data = await fetchProducts();\r\n        setProducts(data);\r\n      } catch (error) {\r\n        console.error('Error loading products:', error);\r\n      }\r\n    };\r\n    loadProducts();\r\n  }, []);\r\n\r\n  const handlePreferenceSubmit = async (prefs) => {\r\n    setLoading(true);\r\n    setPreferences(prefs);\r\n    try {\r\n      await submitPreferences(prefs);\r\n      const historyResponse = await submitBrowsingHistory(browsingHistory.map(p => p.id));\r\n      const recs = await getRecommendations(prefs, browsingHistory);\r\n      setRecommendations(recs);\r\n    } catch (error) {\r\n      console.error('Error submitting preferences:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleProductClick = (product) => {\r\n    if (!browsingHistory.some(p => p.id === product.id)) {\r\n      setBrowsingHistory([...browsingHistory, product]);\r\n    }\r\n  };\r\n\r\n  const getRecommendations = async (prefs, history) => {\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/recommendations', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          preferences: prefs,\r\n          browsingHistory: history.map(p => p.id)\r\n        }),\r\n      });\r\n      const data = await response.json();\r\n      return data.recommendations || [];\r\n    } catch (error) {\r\n      console.error('Error getting recommendations:', error);\r\n      return [];\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <header className=\"app-header\">\r\n        <h1>AI Product Recommender</h1>\r\n      </header>\r\n      <div className=\"app-container\">\r\n        <div className=\"left-panel\">\r\n          <UserPreferences onSubmit={handlePreferenceSubmit} />\r\n          <BrowsingHistory items={browsingHistory} />\r\n        </div>\r\n        <div className=\"main-content\">\r\n          <Catalog \r\n            products={products} \r\n            onProductClick={handleProductClick} \r\n          />\r\n          {loading ? (\r\n            <div className=\"loading\">Generating recommendations...</div>\r\n          ) : (\r\n            <Recommendations items={recommendations} />\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,OAAO,MAAM,sBAAsB;AAC1C,OAAOC,eAAe,MAAM,8BAA8B;AAC1D,OAAOC,eAAe,MAAM,8BAA8B;AAC1D,OAAOC,eAAe,MAAM,8BAA8B;AAC1D,SAASC,aAAa,EAAEC,iBAAiB,EAAEC,qBAAqB,QAAQ,gBAAgB;AACxF,OAAO,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACe,WAAW,EAAEC,cAAc,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACiB,eAAe,EAAEC,kBAAkB,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAM,CAACmB,eAAe,EAAEC,kBAAkB,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAM,CAACqB,OAAO,EAAEC,UAAU,CAAC,GAAGtB,QAAQ,CAAC,KAAK,CAAC;EAE7CC,SAAS,CAAC,MAAM;IACd,MAAMsB,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC/B,IAAI;QACF,MAAMC,IAAI,GAAG,MAAMlB,aAAa,CAAC,CAAC;QAClCQ,WAAW,CAACU,IAAI,CAAC;MACnB,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MACjD;IACF,CAAC;IACDF,YAAY,CAAC,CAAC;EAChB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMI,sBAAsB,GAAG,MAAOC,KAAK,IAAK;IAC9CN,UAAU,CAAC,IAAI,CAAC;IAChBN,cAAc,CAACY,KAAK,CAAC;IACrB,IAAI;MACF,MAAMrB,iBAAiB,CAACqB,KAAK,CAAC;MAC9B,MAAMC,eAAe,GAAG,MAAMrB,qBAAqB,CAACS,eAAe,CAACa,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,CAAC,CAAC;MACnF,MAAMC,IAAI,GAAG,MAAMC,kBAAkB,CAACN,KAAK,EAAEX,eAAe,CAAC;MAC7DG,kBAAkB,CAACa,IAAI,CAAC;IAC1B,CAAC,CAAC,OAAOR,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;IACvD,CAAC,SAAS;MACRH,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMa,kBAAkB,GAAIC,OAAO,IAAK;IACtC,IAAI,CAACnB,eAAe,CAACoB,IAAI,CAACN,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKI,OAAO,CAACJ,EAAE,CAAC,EAAE;MACnDd,kBAAkB,CAAC,CAAC,GAAGD,eAAe,EAAEmB,OAAO,CAAC,CAAC;IACnD;EACF,CAAC;EAED,MAAMF,kBAAkB,GAAG,MAAAA,CAAON,KAAK,EAAEU,OAAO,KAAK;IACnD,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,2CAA2C,EAAE;QACxEC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnB9B,WAAW,EAAEa,KAAK;UAClBX,eAAe,EAAEqB,OAAO,CAACR,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE;QACxC,CAAC;MACH,CAAC,CAAC;MACF,MAAMR,IAAI,GAAG,MAAMe,QAAQ,CAACO,IAAI,CAAC,CAAC;MAClC,OAAOtB,IAAI,CAACL,eAAe,IAAI,EAAE;IACnC,CAAC,CAAC,OAAOM,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MACtD,OAAO,EAAE;IACX;EACF,CAAC;EAED,oBACEf,OAAA;IAAKqC,SAAS,EAAC,KAAK;IAAAC,QAAA,gBAClBtC,OAAA;MAAQqC,SAAS,EAAC,YAAY;MAAAC,QAAA,eAC5BtC,OAAA;QAAAsC,QAAA,EAAI;MAAsB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzB,CAAC,eACT1C,OAAA;MAAKqC,SAAS,EAAC,eAAe;MAAAC,QAAA,gBAC5BtC,OAAA;QAAKqC,SAAS,EAAC,YAAY;QAAAC,QAAA,gBACzBtC,OAAA,CAACP,eAAe;UAACkD,QAAQ,EAAE1B;QAAuB;UAAAsB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACrD1C,OAAA,CAACL,eAAe;UAACiD,KAAK,EAAErC;QAAgB;UAAAgC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxC,CAAC,eACN1C,OAAA;QAAKqC,SAAS,EAAC,cAAc;QAAAC,QAAA,gBAC3BtC,OAAA,CAACR,OAAO;UACNW,QAAQ,EAAEA,QAAS;UACnB0C,cAAc,EAAEpB;QAAmB;UAAAc,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpC,CAAC,EACD/B,OAAO,gBACNX,OAAA;UAAKqC,SAAS,EAAC,SAAS;UAAAC,QAAA,EAAC;QAA6B;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,gBAE5D1C,OAAA,CAACN,eAAe;UAACkD,KAAK,EAAEnC;QAAgB;UAAA8B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAC3C;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACxC,EAAA,CApFQD,GAAG;AAAA6C,EAAA,GAAH7C,GAAG;AAsFZ,eAAeA,GAAG;AAAC,IAAA6C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}